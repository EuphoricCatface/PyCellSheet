[tox]
envlist = py310,py311,py312,py313,py314,py314-optional
skip_missing_interpreters = true
isolated_build = false

[testenv]
deps =
    pytest>=9
    pytest-qt>=4
    PyQt6>=6.4
    numpy>=1.1
    setuptools>=40.0
    markdown2>=2.3
setenv =
    QT_QPA_PLATFORM = offscreen
    XDG_RUNTIME_DIR = {envtmpdir}/runtime
    VIRTUALENV_OVERRIDE_APP_DATA = {toxworkdir}/.app_data
commands_pre =
    python -c "from pathlib import Path; Path(r'{envtmpdir}/runtime').mkdir(parents=True, exist_ok=True)"
commands =
    pytest -q

[testenv:py314-optional]
deps =
    {[testenv]deps}
    openpyxl>=3.0.7
    pycel>=1.0b30
    py-moneyed>=2.0
    python-dateutil>=2.7.0
